name: Example
variables:
  item_text: Sauce Labs Backpack
  productId: sauce-labs-backpack
  password: secret_sauce
  elementWaitTimeout: 3
pages: !!inc/dir ['pages', { extensions: ['.page.yaml'] }]
steps:
  - open: chrome
  - $run: pages.signin.actions.signin
  - $run: pages.shop.actions.waitForItemsToLoad
  - $run: pages.shop.actions.checkAddRemoveCart
  - name: Check that sorting works
    type: run
    condition: EXPECTED_ITEMS && EXPECTED_ITEMS.length > 0
    values:
      $steps: pages.shop.actions.checkSort
  - $run: pages.shop.actions.logout
  - open-url: https://stackoverflow.com/
  - name: Make And Compare screenshot
    type: compare-screenshot
    runOnFailure: true
    values:
      type: page
      reference: screenshots/Example-7-Make screenshot.png
      tolerance: 1
  - check:
      name: Check execution time
      type: compare-numbers
      values:
        to: 7000
        compare:
          type: <
          $value: TASK_EXECUTION_TIME()
  - go-back:
